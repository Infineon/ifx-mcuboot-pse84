<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>PERSONALITY</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    /* Enhanced table styling - PDF optimized */
    table {
      border-collapse: collapse;
      width: auto;
      max-width: 100%;
      margin: 10px 0;
      font-size: 14px;
      box-shadow: none;
      page-break-inside: avoid;
      table-layout: auto;
    }
    th, td {
      border: 1px solid #333;
      padding: 4px 6px;
      text-align: left;
      vertical-align: top;
      white-space: nowrap;
      font-size: 12px;
      line-height: 1.3;
      width: auto;
      min-width: 0;
      max-width: none;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    th {
      background-color: #f8f9fa;
      font-weight: 600;
      color: #24292e;
      font-size: 12px;
    }
    tr:nth-child(even) {
      background-color: #f8f9fa;
    }
    tr:hover {
      background-color: #e6f3ff;
    }
    td code, th code {
      background-color: #f3f4f6;
      padding: 2px 4px;
      border-radius: 3px;
      font-family: 'Courier New', Consolas, monospace;
      font-size: 12px;
    }
    td {
      word-break: break-word;
    }
    td:first-child {
      font-weight: 500;
      background-color: #fafbfc;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 0.5em 0;
      border-collapse: collapse;
      width: 100%;
      max-width: 100%;
      overflow-x: visible;
      display: table;
      font-variant-numeric: lining-nums tabular-nums;
      page-break-inside: avoid;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5/github-markdown-light.css" />
</head>
<body class="markdown-body">
<h1
id="edgeprotect-bootloader-solution-personality">Edge Protect Bootloader Solution Personality</h1>
<h2 id="overview">Overview</h2>
<p>The Edge Protect Bootloader Solution Personality provides
comprehensive configuration options for the MCUBoot-based bootloader on
Infineon PSoC EdgeProtect devices. This personality supports secure boot
functionality with advanced features including upgrade modes, fault
injection hardening, measured boot, and multi-application management for
up to 5 applications.</p>
<p>The personality is designed specifically for ARM Cortex-M33-based
systems (with TrustZone), providing secure and non-secure memory
addressing capabilities with dynamic Memory Context API integration.</p>
<h3 id="additional-links">Additional links</h3>
<p>For more information on how to use ifx-mcuboot with Edge Protect
Bootloader, refer to the following documents:</p>
<ul>
<li><a
href="https://www.infineon.com/AN237857">Edge Protect Bootloader for
PSOC™ Edge - App Note</a></li>
</ul>
<h2 id="key-features">Key Features</h2>
<ul>
<li><strong>MCUBoot Integration</strong>: Full support for the
ifx-mcuboot secure bootloader with industry-standard features</li>
<li><strong>Secure Memory Addressing</strong>: Native support for secure
memory addressing</li>
<li><strong>Multi-Application Support</strong>: Configure up to 5
applications with individual security and memory settings</li>
<li><strong>Dynamic Memory Management</strong>: Memory Context API
integration for automatic address calculation and region validation</li>
<li><strong>Advanced Security</strong>: Comprehensive cryptographic
support with provisioned key management</li>
<li><strong>Upgrade Strategies</strong>: Support for both overwrite and
swap upgrade modes</li>
<li><strong>Comprehensive Validation</strong>: Design Rule Check (DRC)
integration for configuration validation and error prevention</li>
</ul>
<h2 id="configuration-groups">Configuration Groups</h2>
<h3 id="mcuboot-configuration">2. MCUBoot Configuration</h3>
<h4 id="basic-settings">Basic Settings</h4>
<p><strong>Upgrade mode</strong>: Selects the upgrade strategy for the
bootloader - <strong>Options</strong>: overwrite, swap<br />
- <strong>Default</strong>: overwrite - <strong>Description</strong>:
Overwrite mode directly replaces the primary slot with the secondary
slot contents. Swap mode uses a scratch area to safely exchange primary
and secondary slots, enabling rollback functionality.</p>
<p><strong>Logging level</strong>: Sets the verbosity level for
bootloader logs - <strong>Options</strong>: off, dbg (debug), inf
(info), wrn (warning), err (error) - <strong>Default</strong>: dbg -
<strong>Description</strong>: Controls the amount of diagnostic
information output during boot operations.</p>
<p><strong>FIH level</strong>: Configures Fault Injection Hardening
level - <strong>Options</strong>: off, low, med (medium), high -
<strong>Default</strong>: off<br />
- <strong>Description</strong>: Provides protection against fault
injection attacks with increasing levels of security
countermeasures.</p>
<p><strong>Image count</strong>: Specifies the number of application
images to manage - <strong>Options</strong>: 1, 2, 3, 4, 5 -
<strong>Default</strong>: 3 - <strong>Description</strong>: Determines
how many application configurations will be visible and manageable.</p>
<h4 id="security-features">Security Features</h4>
<p><strong>Validate boot slot</strong>: Enables validation of the boot
slot - <strong>Type</strong>: Boolean - <strong>Default</strong>: false
- <strong>Description</strong>: Ensures the primary slot contains a
valid, signed image before booting.</p>
<p><strong>Validate upgrade slot</strong>: Enables validation of the
upgrade slot<br />
- <strong>Type</strong>: Boolean - <strong>Default</strong>: false -
<strong>Description</strong>: Validates secondary slot contents during
upgrade operations.</p>
<p><strong>Measured boot</strong>: Enables measured boot functionality -
<strong>Type</strong>: Boolean - <strong>Default</strong>: false -
<strong>Description</strong>: Records boot measurements for attestation
and trusted boot verification.</p>
<h4 id="measured-boot-configuration">Measured Boot Configuration</h4>
<p>When measured boot is enabled, additional parameters become
available:</p>
<p><strong>MCUBoot shared data region</strong>: Memory region selector
for shared data storage - <strong>Type</strong>: Region selector
(ParamPersonality) - <strong>Required</strong>: Yes (when measured boot
is enabled) - <strong>Description</strong>: Selects memory region for
storing shared boot measurement data.</p>
<p><strong>Max boot record size</strong>: Maximum size for boot record
storage - <strong>Type</strong>: String (hex value) -
<strong>Default</strong>: 0x400 - <strong>Description</strong>: Defines
the maximum space allocated for boot measurement records.</p>
<h4 id="se-ram-app-staging-configuration">SE RAM App Staging
Configuration</h4>
<p><strong>SE RAM App staging address</strong>: Base address for SE RAM
application staging - <strong>Type</strong>: String (hex value)<br />
- <strong>Default</strong>: 0x34000000 - <strong>Description</strong>:
Staging area address for Secure Element RAM applications.</p>
<p><strong>SE RAM App staging size</strong>: Size of SE RAM application
staging area - <strong>Type</strong>: String (hex value) -
<strong>Default</strong>: 0x00001000 - <strong>Description</strong>:
Size allocation for SE RAM application staging operations.</p>
<h3 id="bootloader-application-configuration">3. Bootloader Application
Configuration</h3>
<h4 id="basic-configuration">Basic Configuration</h4>
<p><strong>Input hex file path</strong>: Path to the bootloader input
hex file - <strong>Type</strong>: String (file path) -
<strong>Default</strong>:
../../../../build/project_hex/proj_bootloader.hex -
<strong>Description</strong>: Specifies the location of the bootloader
hex file that will be used for signing and configuration.</p>
<p><strong>Output hex file path</strong>: Path for the signed bootloader
output hex file - <strong>Type</strong>: String (file path) -
<strong>Default</strong>:
../../../../build/project_hex/proj_bootloader_signed.hex -
<strong>Description</strong>: Defines where the signed and configured
bootloader hex file will be generated.</p>
<p><strong>Bootloader image version</strong>: Version string for the
bootloader image - <strong>Type</strong>: String -
<strong>Default</strong>: “1.0.0” - <strong>Description</strong>:
Version identifier for the bootloader image, used for version tracking
and dependency management.</p>
<p><strong>Bootloader image boot record</strong>: Boot record identifier
for the bootloader - <strong>Type</strong>: String -
<strong>Default</strong>: Default boot record string -
<strong>Description</strong>: Boot record information used for measured
boot and attestation purposes.</p>
<p><strong>Enable Bootloader Signing</strong>: Enable signing of the
bootloader image - <strong>Type</strong>: Boolean -
<strong>Default</strong>: false - <strong>Description</strong>: When
enabled, the bootloader image will be cryptographically signed using the
configured signing key.</p>
<h4 id="memory-regions">Memory Regions</h4>
<p><strong>Swap Status Region</strong>: Memory region for swap status
tracking (visible when swap mode is selected) - <strong>Type</strong>:
Region selector - <strong>Description</strong>: Required for swap
upgrade mode to track swap operation status between primary and
secondary slots.</p>
<p><strong>Scratch Region</strong>: Memory region for scratch operations
(visible when swap mode is selected)<br />
- <strong>Type</strong>: Region selector - <strong>Description</strong>:
Temporary storage area required for swap upgrade operations, used as
intermediate space during slot exchanges.</p>
<h3 id="application-configurations-1-5">4. Application Configurations
(1-5)</h3>
<p>Each application configuration includes the following sections when
the image count allows:</p>
<h4 id="memory-slots">Memory Slots</h4>
<p><strong>Secondary slot region</strong>: Memory region selector for
secondary slot storage - <strong>Type</strong>: Region selector (e.g.,
m33s_nvm - Memory Region 3) - <strong>Description</strong>: Memory
region for storing upgrade images. Required for firmware upgrade
functionality.</p>
<h4 id="ram-load">RAM Load</h4>
<p><strong>RAM load</strong>: Enable to load application into RAM -
<strong>Type</strong>: Boolean checkbox - <strong>Default</strong>:
Unchecked - <strong>Description</strong>: Enables loading the
application from non-volatile memory into RAM for execution.</p>
<p>When RAM load is enabled:</p>
<p><strong>RAM load region</strong>: Memory region selector for RAM
loading - <strong>Type</strong>: Region selector (e.g., m33s_data -
Memory Region 12) - <strong>Description</strong>: Selects the RAM region
where the application will be loaded for execution.</p>
<p><strong>RAM load region address</strong>: Automatically calculated
RAM load address - <strong>Type</strong>: String (hex value, read-only)
- <strong>Example</strong>: 0x34037000 - <strong>Description</strong>:
Base address within the selected RAM region where the application will
be loaded.</p>
<h4 id="build-deployment">Build &amp; Deployment</h4>
<p><strong>Input hex file path</strong>: Path to the application input
hex file - <strong>Type</strong>: String (file path) -
<strong>Default</strong>: proj_cm33s.hex (App 0), proj_cm33ns.hex (App
1), proj_cm55.hex (App 2+) - <strong>Description</strong>: Specifies the
location of the application hex file that will be used for signing and
configuration.</p>
<p><strong>Output hex file path</strong>: Path for the signed
application output hex file - <strong>Type</strong>: String (file path)
- <strong>Default</strong>: proj_cm33s_signed.hex (App 0),
proj_cm33ns_signed.hex (App 1), proj_cm55_signed.hex (App 2+) -
<strong>Description</strong>: Defines where the signed application hex
file will be generated.</p>
<p><strong>Image version</strong>: Version string for the application
image - <strong>Type</strong>: String - <strong>Default</strong>:
“1.0.0” - <strong>Description</strong>: Version identifier for the
application image, used for version tracking and dependency
management.</p>
<p><strong>Image boot record</strong>: Boot record identifier for the
application - <strong>Type</strong>: String - <strong>Default</strong>:
App_0 - <strong>Description</strong>: Boot record information used for
measured boot and attestation purposes.</p>
<h4 id="primary-slot-configuration">Primary Slot Configuration</h4>
<p><strong>Primary slot memory</strong>: Storage device for the primary
slot - <strong>Type</strong>: Dropdown selector -
<strong>Example</strong>: SMIF0 Memory 0 - <strong>Description</strong>:
Selects the memory device where the primary application slot will be
located.</p>
<p><strong>Primary slot offset</strong>: Start address offset for the
primary slot - <strong>Type</strong>: String (hex value) -
<strong>Default</strong>: 0x00001000 - <strong>Description</strong>:
Base address offset where the primary slot begins in the selected memory
device.</p>
<p><strong>Primary slot size</strong>: Size of the primary slot in bytes
- <strong>Type</strong>: String (hex value) - <strong>Default</strong>:
0x00100000 - <strong>Description</strong>: Defines the memory space
allocated for the application image in the primary slot.</p>
<p><strong>Secure Access</strong>: Security attribute for the primary
slot - <strong>Type</strong>: Boolean checkbox -
<strong>Default</strong>: Checked for secure applications -
<strong>Description</strong>: When checked, configures the primary slot
for secure memory access.</p>
<h3 id="design-rule-checking-drc">5. Design Rule Checking (DRC)</h3>
<p>The personality includes comprehensive validation through Design Rule
Checks:</p>
<h4 id="region-selection-validation">Region Selection Validation</h4>
<ul>
<li><strong>Measured Boot Region</strong>: Error if measured boot is
enabled but no shared data region is selected</li>
<li><strong>RAM Load Regions</strong>: Error if RAM load is enabled for
any application but no RAM region is selected<br />
</li>
<li><strong>Swap Mode Regions</strong>: Error if swap mode is enabled
but swap status or scratch regions are not selected</li>
<li><strong>Secondary Slot Regions</strong>: Warning if no secondary
slot regions are selected (upgrade functionality unavailable)</li>
</ul>
<h4 id="memory-configuration-validation">Memory Configuration
Validation</h4>
<ul>
<li><strong>Slot Size Validation</strong>: Info/Error messages for slot
size mismatches between primary and secondary slots</li>
<li><strong>Address Conflicts</strong>: Automatic detection and
reporting of memory region conflicts</li>
<li><strong>Security Compliance</strong>: Validation of
secure/non-secure memory addressing consistency</li>
</ul>
<h2 id="memory-device-options">Memory Device Options</h2>
<p>The following memory device options are available throughout the
configuration:</p>
<ul>
<li><strong>INTERNAL_RRAM</strong>: Internal Resistive RAM</li>
<li><strong>EXTERNAL_S_FLASH</strong>: External Secure Flash<br />
</li>
<li><strong>EXTERNAL_NS_FLASH</strong>: External Non-Secure Flash</li>
<li><strong>RRAM</strong>: Resistive RAM</li>
<li><strong>SMIF0MEM0/1/2/3</strong>: Serial Memory Interface
channels</li>
<li><strong>SMIF1MEM0/1/2/3</strong>: Additional Serial Memory Interface
channels</li>
<li><strong>SRAM</strong>: Static RAM (for RAM loading scenarios)</li>
</ul>
<h2 id="application-visibility-rules">Application Visibility Rules</h2>
<ul>
<li><strong>Application 0</strong>: Always visible (primary
application)</li>
<li><strong>Application 1</strong>: Visible when image count ≥ 2<br />
</li>
<li><strong>Application 2</strong>: Visible when image count ≥ 3</li>
<li><strong>Application 3</strong>: Visible when image count ≥ 4</li>
<li><strong>Application 4</strong>: Visible when image count ≥ 5</li>
</ul>
<h2 id="configuration-generation">Configuration Generation</h2>
<p>The EdgeProtect personality generates several essential configuration
files based on the user’s configuration choices:</p>
<h3 id="generated-files-overview">Generated Files Overview</h3>
<h4 id="memorymap.h---memory-layout-definitions">1. memorymap.h - Memory
Layout Definitions</h4>
<p><strong>Purpose</strong>: Defines memory layout constants, flash area
enums, and MCUBoot configuration structures.</p>
<p><strong>Key Content</strong>: - Flash area enumeration constants for
bootloader and application slots - Device type enumerations for internal
and external memory - Boot configuration structures and array
declarations<br />
- Image boot configuration structure definitions</p>
<p><strong>Structure</strong>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* AUTO-GENERATED FILE, DO NOT EDIT. ALL CHANGES WILL BE LOST! */</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma once</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdint.h&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;bootutil/bootutil.h&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;flash_map_backend.h&quot;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MEMORYMAP_GENERATED_AREAS </span><span class="dv">1</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="kw">extern</span> <span class="kw">struct</span> flash_device flash_devices<span class="op">[];</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">extern</span> <span class="kw">struct</span> flash_area <span class="op">*</span>boot_area_descs<span class="op">[];</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="kw">extern</span> <span class="dt">uint8_t</span> memory_areas_primary<span class="op">[];</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="kw">extern</span> <span class="dt">uint8_t</span> memory_areas_secondary<span class="op">[];</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    INTERNAL_S_SRAM<span class="op">,</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    INTERNAL_NS_SRAM<span class="op">,</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    INTERNAL_RRAM<span class="op">,</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    EXTERNAL_S_FLASH<span class="op">,</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    EXTERNAL_NS_FLASH<span class="op">,</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="kw">enum</span> </span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_BOOTLOADER <span class="op">=</span> <span class="dv">0</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_IMG_1_PRIMARY <span class="op">=</span> <span class="dv">1</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_IMG_1_SECONDARY <span class="op">=</span> <span class="dv">2</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_IMG_2_PRIMARY <span class="op">=</span> <span class="dv">4</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_IMG_2_SECONDARY <span class="op">=</span> <span class="dv">5</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_IMG_3_PRIMARY <span class="op">=</span> <span class="dv">6</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    FLASH_AREA_IMG_3_SECONDARY <span class="op">=</span> <span class="dv">7</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Additional areas based on image count</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">enum</span> </span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    IMAGE_BOOT_MODE_FLASH <span class="op">=</span> <span class="dv">0</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    IMAGE_BOOT_MODE_RAM <span class="op">=</span> <span class="dv">1</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> image_boot_mode_t<span class="op">;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="kw">struct</span> image_boot_config_s </span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    image_boot_mode_t mode<span class="op">;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">uint32_t</span> address<span class="op">;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">uint32_t</span> size<span class="op">;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> image_boot_config_t<span class="op">;</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="kw">extern</span> image_boot_config_t image_boot_config<span class="op">[</span>BOOT_IMAGE_NUMBER<span class="op">];</span></span></code></pre></div>
<h4 id="memorymap.c---flash-configuration-implementation">2. memorymap.c
- Flash Configuration Implementation</h4>
<p><strong>Purpose</strong>: Implements flash device array, boot area
descriptors, and MCUBoot configuration arrays.</p>
<p><strong>Key Sections</strong>: - <strong>Flash Device Array</strong>:
Configures SRAM, RRAM, and external flash devices with secure addressing
- <strong>Flash Area Structures</strong>: Defines bootloader and
application flash areas with computed addresses - <strong>Boot Area
Descriptors</strong>: MCUBoot flash area descriptor array for memory
management<br />
- <strong>Image Boot Configuration</strong>: Per-image boot
configuration arrays with mode and address settings</p>
<p><strong>Structure Example</strong>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;memorymap.h&quot;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;flash_map_backend.h&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> flash_device flash_devices<span class="op">[]</span> <span class="op">=</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span>INTERNAL_S_SRAM<span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address      <span class="op">=</span> <span class="bn">0x34000000</span><span class="bu">U</span><span class="op">,</span>  <span class="co">// Secure SRAM with secure offset</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size         <span class="op">=</span> <span class="bn">0x100000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_size   <span class="op">=</span> <span class="bn">0x200</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_val    <span class="op">=</span> <span class="bn">0x0</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>device_id    <span class="op">=</span> INTERNAL_S_SRAM<span class="op">,</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span>INTERNAL_NS_SRAM<span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address      <span class="op">=</span> <span class="bn">0x24000000</span><span class="bu">U</span><span class="op">,</span>  <span class="co">// Non-secure SRAM</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size         <span class="op">=</span> <span class="bn">0x100000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_size   <span class="op">=</span> <span class="bn">0x200</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_val    <span class="op">=</span> <span class="bn">0x0</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>device_id    <span class="op">=</span> INTERNAL_NS_SRAM<span class="op">,</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span>INTERNAL_RRAM<span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address      <span class="op">=</span> <span class="bn">0x32011000</span><span class="bu">U</span><span class="op">,</span>  <span class="co">// Secure RRAM for bootloader</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size         <span class="op">=</span> <span class="bn">0x2f000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_size   <span class="op">=</span> <span class="bn">0x200</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_val    <span class="op">=</span> <span class="bn">0x0</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>device_id    <span class="op">=</span> INTERNAL_RRAM<span class="op">,</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span>EXTERNAL_S_FLASH<span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address      <span class="op">=</span> <span class="bn">0x70000000</span><span class="bu">U</span><span class="op">,</span>  <span class="co">// Secure external flash</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size         <span class="op">=</span> <span class="bn">0x4000000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_size   <span class="op">=</span> <span class="bn">0x40000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_val    <span class="op">=</span> <span class="bn">0xff</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>device_id    <span class="op">=</span> EXTERNAL_S_FLASH<span class="op">,</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span>EXTERNAL_NS_FLASH<span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address      <span class="op">=</span> <span class="bn">0x60000000</span><span class="bu">U</span><span class="op">,</span>  <span class="co">// Non-secure external flash</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size         <span class="op">=</span> <span class="bn">0x4000000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_size   <span class="op">=</span> <span class="bn">0x40000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>erase_val    <span class="op">=</span> <span class="bn">0xff</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>device_id    <span class="op">=</span> EXTERNAL_NS_FLASH<span class="op">,</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> flash_area flash_areas<span class="op">[]</span> <span class="op">=</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_id        <span class="op">=</span> FLASH_AREA_BOOTLOADER<span class="op">,</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_device_id <span class="op">=</span> INTERNAL_RRAM<span class="op">,</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_off       <span class="op">=</span> <span class="bn">0x0</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_size      <span class="op">=</span> <span class="bn">0x25000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_id        <span class="op">=</span> FLASH_AREA_IMG_1_PRIMARY<span class="op">,</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_device_id <span class="op">=</span> EXTERNAL_S_FLASH<span class="op">,</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_off       <span class="op">=</span> <span class="bn">0x100000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_size      <span class="op">=</span> <span class="bn">0x80000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_id        <span class="op">=</span> FLASH_AREA_IMG_1_SECONDARY<span class="op">,</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_device_id <span class="op">=</span> EXTERNAL_S_FLASH<span class="op">,</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_off       <span class="op">=</span> <span class="bn">0x8c0000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>fa_size      <span class="op">=</span> <span class="bn">0x80000</span><span class="bu">U</span><span class="op">,</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Additional areas for multi-image configuration</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> flash_area <span class="op">*</span>boot_area_descs<span class="op">[]</span> <span class="op">=</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>    <span class="op">&amp;</span>flash_areas<span class="op">[</span><span class="dv">0</span><span class="bu">U</span><span class="op">],</span> <span class="co">// Bootloader</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>    <span class="op">&amp;</span>flash_areas<span class="op">[</span><span class="dv">1</span><span class="bu">U</span><span class="op">],</span> <span class="co">// App 1 Primary</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>    <span class="op">&amp;</span>flash_areas<span class="op">[</span><span class="dv">2</span><span class="bu">U</span><span class="op">],</span> <span class="co">// App 1 Secondary</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>    <span class="op">&amp;</span>flash_areas<span class="op">[</span><span class="dv">3</span><span class="bu">U</span><span class="op">],</span> <span class="co">// App 2 Primary</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>    <span class="op">&amp;</span>flash_areas<span class="op">[</span><span class="dv">4</span><span class="bu">U</span><span class="op">],</span> <span class="co">// App 2 Secondary</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Additional entries based on configuration</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>    NULL</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>image_boot_config_t image_boot_config<span class="op">[</span>BOOT_IMAGE_NUMBER<span class="op">]</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>mode     <span class="op">=</span> IMAGE_BOOT_MODE_FLASH<span class="op">,</span>  <span class="co">// Boot from flash</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address  <span class="op">=</span> <span class="bn">0x70100000</span><span class="op">,</span>             <span class="co">// Secure external flash address</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size     <span class="op">=</span> <span class="bn">0x80000</span><span class="op">,</span>                <span class="co">// Primary slot size</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>mode     <span class="op">=</span> IMAGE_BOOT_MODE_FLASH<span class="op">,</span>  <span class="co">// Boot from flash</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address  <span class="op">=</span> <span class="bn">0x60340000</span><span class="op">,</span>             <span class="co">// Non-secure external flash address  </span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size     <span class="op">=</span> <span class="bn">0x80000</span><span class="op">,</span>                <span class="co">// Primary slot size</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>mode     <span class="op">=</span> IMAGE_BOOT_MODE_RAM<span class="op">,</span>    <span class="co">// Boot from RAM (if RAM load enabled)</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>address  <span class="op">=</span> <span class="bn">0x24080000</span><span class="op">,</span>             <span class="co">// RAM load address</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size     <span class="op">=</span> <span class="bn">0x80000</span><span class="op">,</span>                <span class="co">// RAM load size</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code></pre></div>
<h4 id="mcuboot_config.h---mcuboot-feature-configuration">3.
mcuboot_config.h - MCUBoot Feature Configuration</h4>
<p><strong>Purpose</strong>: Comprehensive MCUBoot feature configuration
with conditional macro definitions.</p>
<p><strong>Configuration Categories</strong>:</p>
<p><strong>Core Boot Features</strong>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* MCUBoot Upgrade Strategy Configuration */</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_OVERWRITE_ONLY </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">          </span><span class="co">// Overwrite-only upgrade mode</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_BOOTSTRAP </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">               </span><span class="co">// Bootstrap for swap mode</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_SWAP_USING_STATUS </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">       </span><span class="co">// Swap using status partition</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_SWAP_USING_SCRATCH </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">      </span><span class="co">// Swap using scratch area</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_DOWNGRADE_PREVENTION </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">    </span><span class="co">// Prevent firmware downgrades</span></span></code></pre></div>
<p><strong>Security and Validation Features</strong>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* Security and Validation Configuration */</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_SIGN_EC256 </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">              </span><span class="co">// ECDSA P-256 signature validation</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_ENCRYPT_AES256 </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">          </span><span class="co">// AES-256 encryption support</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_HW_ROLLBACK_PROT </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">        </span><span class="co">// Hardware rollback protection</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_MEASURED_BOOT </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">           </span><span class="co">// Measured boot attestation</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_DATA_SHARING </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">            </span><span class="co">// Shared data for measured boot</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_VALIDATE_PRIMARY_SLOT </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">   </span><span class="co">// Primary slot validation</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_VALIDATE_UPGRADE_SLOT </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">   </span><span class="co">// Upgrade slot validation</span></span></code></pre></div>
<p><strong>Memory and Loading Configuration</strong>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* Memory and Loading Configuration */</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_IMAGE_NUMBER </span><span class="op">(</span><span class="dv">3</span><span class="op">)</span><span class="pp">            </span><span class="co">// Number of application images</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_MAX_IMG_SECTORS </span><span class="op">(</span><span class="dv">256</span><span class="op">)</span><span class="pp">       </span><span class="co">// Maximum image sectors</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_RAM_LOAD </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">                </span><span class="co">// RAM loading capability</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_DIRECT_XIP </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">              </span><span class="co">// Execute-in-place support</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="pp">#define IMAGE_EXECUTABLE_RAM_START </span><span class="op">(</span><span class="bn">0x24000000</span><span class="op">)</span><span class="pp">  </span><span class="co">// RAM execution base</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="pp">#define IMAGE_EXECUTABLE_RAM_SIZE </span><span class="op">(</span><span class="bn">0x100000</span><span class="op">)</span><span class="pp">     </span><span class="co">// RAM execution size</span></span></code></pre></div>
<p><strong>Fault Injection Hardening</strong>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* MCUBoot Fault Injection Hardening (FIH) Level Configuration */</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_FIH_PROFILE_HIGH </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">        </span><span class="co">// High-level FIH protection</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_FIH_PROFILE_ON </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">          </span><span class="co">// Enable FIH protection</span></span></code></pre></div>
<p><strong>Logging Configuration</strong>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">/* MCUBoot Logging Level Configuration */</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_LOG_LEVEL MCUBOOT_LOG_LEVEL_DEBUG  </span><span class="co">// Debug level logging</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define MCUBOOT_HAVE_LOGGING </span><span class="op">(</span><span class="dv">1</span><span class="op">)</span><span class="pp">                   </span><span class="co">// Enable logging system</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#endif </span><span class="co">/* MCUBOOT_CONFIG_H */</span></span></code></pre></div>
<h4 id="feature_config.mk---build-system-configuration">4.
feature_config.mk - Build System Configuration</h4>
<p><strong>Purpose</strong>: Controls build system component inclusion
based on enabled features.</p>
<p><strong>Component Selection</strong>:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode makefile"><code class="sourceCode makefile"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Auto-generated feature_config.mk file</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Core MCUBoot components</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_IMG_VALIDATION</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Security and rollback protection components</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_SEC_CNT                    </span><span class="co"># Hardware rollback protection (conditional)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Encryption and XIP components  </span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_XIP_ENC                   </span><span class="co"># XIP encryption (conditional on encryption mode)</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Measured boot components</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_MEASURED_BOOT             </span><span class="co"># Measured boot support (conditional)</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Memory-specific components</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_RRAM_MEM                  </span><span class="co"># RRAM memory support (conditional on RRAM usage)</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_SRAM_MEM                  </span><span class="co"># SRAM memory support (conditional on RAM loading)</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_SMIF_FLASH_MEM           </span><span class="co"># External flash support (conditional on external flash)</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Fault injection hardening components</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="dt">COMPONENTS</span><span class="ch">+=</span><span class="st">MCUBOOT_PRNG                     </span><span class="co"># PRNG for high FIH level (conditional)</span></span></code></pre></div>
<p><strong>Conditional Logic Examples</strong>: - <strong>Security
Counter</strong>: Added when hardware rollback protection is enabled -
<strong>Measured Boot</strong>: Included when measured boot
functionality is enabled<br />
- <strong>Memory Components</strong>: RRAM, SRAM, and SMIF components
added based on device selections - <strong>Encryption</strong>: XIP
encryption component added for execute-in-place encryption modes -
<strong>FIH Components</strong>: Additional components for fault
injection hardening at high security levels</p>
<h4 id="boot_with_bldr.json---signercombiner-configuration">5.
boot_with_bldr.json - SignerCombiner Configuration</h4>
<p><strong>Purpose</strong>: Configures SignerCombiner tool for
bootloader and application image processing.</p>
<p><strong>Configuration Structure</strong>:</p>
<p><strong>Schema Definition</strong>:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;schema-version&quot;</span><span class="fu">:</span> <span class="fl">1.0</span><span class="fu">,</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Image 0&quot;</span><span class="fu">,</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;commands&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;sign&quot;</span><span class="fu">,</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;inputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">{</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/proj_cm33s.hex&quot;</span><span class="fu">,</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;header-size&quot;</span><span class="fu">:</span> <span class="st">&quot;0x400&quot;</span><span class="fu">,</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;fill-value&quot;</span><span class="fu">:</span> <span class="st">&quot;0xff&quot;</span><span class="fu">,</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;slot-size&quot;</span><span class="fu">:</span> <span class="st">&quot;0x80000&quot;</span><span class="fu">,</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;image-version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0.0&quot;</span><span class="fu">,</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;boot-record&quot;</span><span class="fu">:</span> <span class="st">&quot;BOOT_RECORD_APP0&quot;</span><span class="fu">,</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="st">&quot;(1,2.0.0)&quot;</span><span class="fu">,</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;overwrite-only&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;load-address&quot;</span><span class="fu">:</span> <span class="st">&quot;0x24080000&quot;</span><span class="fu">,</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;signing-key&quot;</span><span class="fu">:</span> <span class="st">&quot;keys/app0_sign.pem&quot;</span><span class="fu">,</span> </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;kek-public-key&quot;</span><span class="fu">:</span> <span class="st">&quot;keys/kek_public.pem&quot;</span><span class="fu">,</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;protected-tlv&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">{</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>                                    <span class="dt">&quot;tag&quot;</span><span class="fu">:</span> <span class="st">&quot;0x77&quot;</span><span class="fu">,</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>                                    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;0x01&quot;</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">}</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;security-counter&quot;</span><span class="fu">:</span> <span class="st">&quot;1&quot;</span><span class="fu">,</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;hex-address&quot;</span><span class="fu">:</span> <span class="st">&quot;0x70100000&quot;</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">}</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;outputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">{</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/proj_cm33s_signed.hex&quot;</span><span class="fu">,</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;format&quot;</span><span class="fu">:</span> <span class="st">&quot;ihex&quot;</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">}</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">]</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Image 1&quot;</span><span class="fu">,</span> </span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;commands&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;sign&quot;</span><span class="fu">,</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;inputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">{</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/app1.hex&quot;</span><span class="fu">,</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;header-size&quot;</span><span class="fu">:</span> <span class="st">&quot;0x400&quot;</span><span class="fu">,</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;fill-value&quot;</span><span class="fu">:</span> <span class="st">&quot;0xff&quot;</span><span class="fu">,</span> </span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;slot-size&quot;</span><span class="fu">:</span> <span class="st">&quot;0x80000&quot;</span><span class="fu">,</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;hex-address&quot;</span><span class="fu">:</span> <span class="st">&quot;0x60340000&quot;</span></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">}</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;outputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">{</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/app1_signed.hex&quot;</span><span class="fu">,</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;format&quot;</span><span class="fu">:</span> <span class="st">&quot;ihex&quot;</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">}</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">]</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span></span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;merge&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;merge&quot;</span><span class="fu">,</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;commands&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>            <span class="fu">{</span></span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;merge&quot;</span><span class="fu">,</span></span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;inputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">{</span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/proj_bootloader.hex&quot;</span></span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">{</span></span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/proj_cm33s_signed.hex&quot;</span></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">{</span></span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/proj_cm33ns_signed.hex&quot;</span></span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">}</span></span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>                <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>                <span class="dt">&quot;outputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">{</span></span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/app_combined.hex&quot;</span><span class="fu">,</span></span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">&quot;format&quot;</span><span class="fu">:</span> <span class="st">&quot;ihex&quot;</span><span class="fu">,</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>                        <span class="dt">&quot;overlap&quot;</span><span class="fu">:</span> <span class="st">&quot;ignore&quot;</span></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">}</span></span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>                <span class="ot">]</span></span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>            <span class="fu">}</span></span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span></span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Conditional Parameters</strong>: - <strong>Image
Version</strong>: Included when measured boot or dependency checking
enabled - <strong>Boot Record</strong>: Generated for measured boot
configurations to support attestation - <strong>Dependencies</strong>:
Added when dependency checking enabled with version requirements<br />
- <strong>Overwrite Mode</strong>: Set for overwrite-only upgrade
configurations - <strong>Load Address</strong>: Specified for RAM
loading configurations - <strong>Security Counter</strong>: Added for
hardware rollback protection with incremental values - <strong>Protected
TLV</strong>: Contains signature key ID for validation with tag 0x77</p>
<h4 id="boot_with_bldr_upgr.json---upgrade-image-configuration">6.
boot_with_bldr_upgr.json - Upgrade Image Configuration</h4>
<p><strong>Purpose</strong>: Separate SignerCombiner configuration for
upgrade image signing targeting secondary slots.</p>
<p><strong>Key Differences from boot_with_bldr.json</strong>:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;schema-version&quot;</span><span class="fu">:</span> <span class="fl">1.0</span><span class="fu">,</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Image 0&quot;</span><span class="fu">,</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&quot;commands&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">{</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;sign&quot;</span><span class="fu">,</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;inputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">{</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/app0_upgrade.hex&quot;</span><span class="fu">,</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;header-size&quot;</span><span class="fu">:</span> <span class="st">&quot;0x400&quot;</span><span class="fu">,</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;fill-value&quot;</span><span class="fu">:</span> <span class="st">&quot;0xff&quot;</span><span class="fu">,</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;slot-size&quot;</span><span class="fu">:</span> <span class="st">&quot;0x80000&quot;</span><span class="fu">,</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;image-version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.1.0&quot;</span><span class="fu">,</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;boot-record&quot;</span><span class="fu">:</span> <span class="st">&quot;BOOT_RECORD_APP0_UPGRADE&quot;</span><span class="fu">,</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;dependencies&quot;</span><span class="fu">:</span> <span class="st">&quot;(1,2.0.0)&quot;</span><span class="fu">,</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;overwrite-only&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;load-address&quot;</span><span class="fu">:</span> <span class="st">&quot;0x24080000&quot;</span><span class="fu">,</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;signing-key&quot;</span><span class="fu">:</span> <span class="st">&quot;keys/app0_upgrade_sign.pem&quot;</span><span class="fu">,</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;protected-tlv&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">{</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>                                    <span class="dt">&quot;tag&quot;</span><span class="fu">:</span> <span class="st">&quot;0x77&quot;</span><span class="fu">,</span> </span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>                                    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;0x01&quot;</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">}</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>                            <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;security-counter&quot;</span><span class="fu">:</span> <span class="st">&quot;2&quot;</span><span class="fu">,</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;hex-address&quot;</span><span class="fu">:</span> <span class="st">&quot;0x708c0000&quot;</span><span class="fu">,</span>  <span class="er">//</span> <span class="er">Secondary</span> <span class="er">slot</span> <span class="er">address</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;pad&quot;</span><span class="fu">:</span> <span class="kw">true</span>                   <span class="er">//</span> <span class="er">Enable</span> <span class="er">padding</span> <span class="er">for</span> <span class="er">slot</span> <span class="er">alignment</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">}</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">&quot;outputs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">{</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;file&quot;</span><span class="fu">:</span> <span class="st">&quot;../../../../build/app0_upgrade_signed.hex&quot;</span><span class="fu">,</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>                            <span class="dt">&quot;format&quot;</span><span class="fu">:</span> <span class="st">&quot;ihex&quot;</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">}</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">]</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>                <span class="fu">}</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>            <span class="ot">]</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Key Configuration Differences</strong>: - <strong>Target
Address</strong>: Uses secondary slot addresses
(<code>hex-address</code>: “0x708c0000”) instead of primary
addresses<br />
- <strong>Padding</strong>: Enables padding (<code>"pad": true</code>)
for slot alignment and erasure - <strong>Validation Keys</strong>:
Configured for upgrade validation keys rather than boot validation keys
- <strong>Security Counter</strong>: Incremented values for rollback
protection (e.g., “2” vs “1”) - <strong>File Naming</strong>: Uses
upgrade-specific file paths and output names for clear separation</p>
<h3 id="configuration-generation-logic">Configuration Generation
Logic</h3>
<p><strong>Dynamic Content Generation</strong>: - All files use
conditional compilation/inclusion based on user selections - Memory
addresses are calculated using Memory Context API with secure offsets -
Feature-specific sections are included only when relevant options are
enabled - Multi-image support with configurable application count</p>
<p><strong>Build Integration</strong>: - Generated files integrate with
the ModusToolbox build system - Configuration files automatically
rebuild when personality changes - Component dependencies are resolved
through feature_config.mk - SignerCombiner integration for secure image
generation</p>
<h2 id="generated-parameters-map">Generated Parameters Map</h2>
<p>The following table maps personality parameters to their generated
outputs across configuration files:</p>
<blockquote>
<p><strong>Table Legend:</strong> - [BUILD] = Build configuration
(feature_config.mk) - [CONFIG] = Runtime configuration
(mcuboot_config.h)<br />
- [MEMORY] = Memory layout (memorymap.c/h) - [SIGN] = Signing
configuration (SignerCombiner JSON) - —- = No output generated</p>
</blockquote>
<h3 id="core-mcuboot-configuration">Core MCUBoot Configuration</h3>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Upgrade mode</strong></td>
<td>overwrite</td>
<td><strong>overwrite</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_OVERWRITE_ONLY (1)</code></td>
<td>—-</td>
<td><code>"overwrite-only": true</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>swap</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_BOOTSTRAP (1)</code><br><code>#define MCUBOOT_SWAP_USING_STATUS (1)</code><br><code>#define MCUBOOT_SWAP_USING_SCRATCH (1)</code></td>
<td>Swap status/scratch areas</td>
<td>—-</td>
</tr>
<tr>
<td><strong>Logging level</strong></td>
<td>dbg</td>
<td><strong>off</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_LOG_LEVEL MCUBOOT_LOG_LEVEL_OFF</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>dbg</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_HAVE_LOGGING</code><br><code>#define MCUBOOT_LOG_LEVEL MCUBOOT_LOG_LEVEL_DEBUG</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>inf</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_HAVE_LOGGING</code><br><code>#define MCUBOOT_LOG_LEVEL MCUBOOT_LOG_LEVEL_INFO</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>wrn</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_HAVE_LOGGING</code><br><code>#define MCUBOOT_LOG_LEVEL MCUBOOT_LOG_LEVEL_WARNING</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>err</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_HAVE_LOGGING</code><br><code>#define MCUBOOT_LOG_LEVEL MCUBOOT_LOG_LEVEL_ERROR</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td><strong>FIH level</strong></td>
<td>off</td>
<td><strong>off</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_FIH_PROFILE_OFF</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>low</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_FIH_PROFILE_ON</code><br><code>#define MCUBOOT_FIH_PROFILE_LOW</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>med</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_FIH_PROFILE_ON</code><br><code>#define MCUBOOT_FIH_PROFILE_MEDIUM</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>high</strong></td>
<td><code>COMPONENTS+=MCUBOOT_RNG</code></td>
<td><code>#define MCUBOOT_FIH_PROFILE_ON</code><br><code>#define MCUBOOT_FIH_PROFILE_HIGH</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td><strong>Image count</strong></td>
<td>3</td>
<td><strong>1…5</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_IMAGE_NUMBER (n)</code></td>
<td>Dynamic flash area generation</td>
<td>Dynamic image sections</td>
</tr>
</tbody>
</table>
<h3 id="security-validation-features">Security &amp; Validation
Features</h3>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Validate boot slot</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_VALIDATE_PRIMARY_SLOT</code><br><code>#define MCUBOOT_BUILT_IN_KEYS</code></td>
<td>—-</td>
<td><code>"signing-key": "path"</code><br><code>"protected-tlv": [...]</code></td>
</tr>
<tr>
<td><strong>Validate upgrade slot</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_SKIP_VALIDATE_SECONDARY_SLOT</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_BUILT_IN_KEYS</code></td>
<td>—-</td>
<td>Secondary slot validation</td>
</tr>
<tr>
<td><strong>HW rollback protection</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td><code>COMPONENTS+=MCUBOOT_SEC_CNT</code></td>
<td><code>#define MCUBOOT_HW_ROLLBACK_PROT</code><br><code>#define HW_ROLLBACK_NUMBER_IMG_N</code></td>
<td>—-</td>
<td><code>"security-counter": "value"</code></td>
</tr>
<tr>
<td><strong>Dependency check</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_DEPENDENCY_CHECK</code></td>
<td>—-</td>
<td><code>"dependencies": "specification"</code></td>
</tr>
<tr>
<td><strong>SW downgrade prevention</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_DOWNGRADE_PREVENTION</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td><strong>Measured boot</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td><code>COMPONENTS+=MCUBOOT_MEASURED_BOOT</code></td>
<td><code>#define MCUBOOT_MEASURED_BOOT</code><br><code>#define MCUBOOT_SHARED_DATA_BASE</code><br><code>#define MCUBOOT_SHARED_DATA_SIZE</code><br><code>#define MAX_BOOT_RECORD_SZ</code></td>
<td>—-</td>
<td><code>"boot-record": "identifier"</code><br><code>"image-version": "version"</code></td>
</tr>
<tr>
<td><strong>Watchdog</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_WATCHDOG_ENABLED</code><br><code>#define MCUBOOT_WATCHDOG_FEED()</code></td>
<td>—-</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h3 id="encryption-configuration">Encryption Configuration</h3>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Image encryption</strong></td>
<td>off</td>
<td><strong>off</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>XIP encryption single AES key</strong></td>
<td><code>COMPONENTS+=MCUBOOT_XIP_ENC</code></td>
<td><code>#define MCUBOOT_ENC_IMAGES</code><br><code>#define MCUBOOT_ENC_IMAGES_XIP</code><br><code>#define MCUBOOT_USE_PSA_CRYPTO</code></td>
<td>—-</td>
<td><code>"encryption-public-key": "path"</code><br><code>"encryption-secret-key": "path"</code><br><code>"nonce-output": "path"</code><br><code>"encryption-address": "addr"</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>XIP encryption multi AES keys</strong></td>
<td><code>COMPONENTS+=MCUBOOT_XIP_ENC</code></td>
<td><code>#define MCUBOOT_ENC_IMAGES</code><br><code>#define MCUBOOT_ENC_IMAGES_XIP</code><br><code>#define MCUBOOT_ENC_IMAGES_XIP_MULTI</code><br><code>#define MCUBOOT_USE_PSA_CRYPTO</code></td>
<td>—-</td>
<td>Per-image encryption
keys<br><code>"encryption-public-key": "path"</code><br><code>"encryption-secret-key": "app_path"</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>SE RT encryption</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_ENC_IMAGES</code><br><code>#define MCUBOOT_USE_ENC_IFX_SE</code></td>
<td>—-</td>
<td><code>"protected-tlv": KEK ID</code><br><code>"kdf": "KBKDFCMAC"</code></td>
</tr>
<tr>
<td><strong>Public Key Encryption Key (KEK) path</strong></td>
<td><code>keys/enc-ec256-pub.pem</code></td>
<td>File path</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"encryption-public-key": "path"</code></td>
</tr>
<tr>
<td><strong>Private Key Encryption Key (KEK) id</strong></td>
<td>25</td>
<td>1-255</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"protected-tlv": KEK ID</code></td>
</tr>
<tr>
<td><strong>AES128 Data Encryption Key (DEK) path</strong></td>
<td><code>keys/aes128_key.bin</code></td>
<td>File path</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"encryption-secret-key": "path"</code></td>
</tr>
<tr>
<td><strong>NONCE output file path</strong></td>
<td><code>keys/nonce.bin</code></td>
<td>File path</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"nonce-output": "path"</code></td>
</tr>
</tbody>
</table>
<h3 id="measured-boot-configuration-1">Measured Boot Configuration</h3>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Max boot record size</strong></td>
<td>0x200</td>
<td><strong>0x80…0x200</strong></td>
<td>—-</td>
<td><code>#define MAX_BOOT_RECORD_SZ (size)</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td><strong>Measured boot record region</strong></td>
<td>not selected</td>
<td><strong>Memory region</strong></td>
<td>—-</td>
<td><code>#define MCUBOOT_SHARED_DATA_BASE (addr)</code><br><code>#define MCUBOOT_SHARED_DATA_SIZE (size)</code></td>
<td>—-</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h3 id="bootloader-configuration">Bootloader Configuration</h3>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Bootloader input hex path</strong></td>
<td><code>proj_bootloader.hex</code></td>
<td>File path</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"file": "input_path"</code></td>
</tr>
<tr>
<td><strong>Bootloader output hex path</strong></td>
<td><code>proj_bootloader_signed.hex</code></td>
<td>File path</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"file": "output_path"</code></td>
</tr>
<tr>
<td><strong>Bootloader project name</strong></td>
<td>proj_bootloader</td>
<td>String</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"project": "name"</code><br><code>"debug_config_name": "name"</code></td>
</tr>
</tbody>
</table>
<h3 id="project-configuration">Project Configuration</h3>
<p>Each project has its own fields listed below. $idx is the project
number</p>
<h4 id="memory-slots">Memory Slots</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Secondary slot region</strong></td>
<td>not selected</td>
<td><strong>Memory region</strong></td>
<td>Memory-dependent components</td>
<td>—-</td>
<td>Secondary flash areas</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h4 id="ram-load-configuration">RAM Load Configuration</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RAM load</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>Boot mode FLASH</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td><code>COMPONENTS+=MCUBOOT_SRAM_MEM</code></td>
<td><code>#define MCUBOOT_MULTI_MEMORY_LOAD</code><br><code>#define MCUBOOT_RAM_LOAD</code><br><code>#define MULTIPLE_EXECUTABLE_RAM_REGIONS</code><br><code>#define CY_BOOT_USE_INTERNAL_SRAM</code></td>
<td>Boot mode RAM</td>
<td><code>"load-address": "addr"</code></td>
</tr>
<tr>
<td><strong>RAM load region</strong></td>
<td>not selected</td>
<td><strong>Memory region</strong></td>
<td>—-</td>
<td>—-</td>
<td>RAM boot config</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h4 id="primary-slot-configuration-1">Primary Slot Configuration</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Primary slot memory</strong></td>
<td>RRAM</td>
<td><strong>RRAM</strong></td>
<td><code>COMPONENTS+=MCUBOOT_RRAM_MEM</code></td>
<td>Device-specific defines</td>
<td>Primary flash areas</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>Serial interface memory</strong> (SA=true)</td>
<td><code>COMPONENTS+=MCUBOOT_SMIF_FLASH_MEM</code></td>
<td>Device-specific defines</td>
<td>Primary flash areas</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>Serial interface memory</strong> (SA=false)</td>
<td><code>COMPONENTS+=MCUBOOT_SMIF_FLASH_MEM</code></td>
<td>Device-specific defines</td>
<td>Primary flash areas</td>
<td>—-</td>
</tr>
<tr>
<td><strong>Primary slot offset</strong></td>
<td>0x0</td>
<td><strong>Hex address</strong></td>
<td>—-</td>
<td>—-</td>
<td>Flash area offset</td>
<td><code>"hex-address": "addr"</code></td>
</tr>
<tr>
<td><strong>Primary slot size</strong></td>
<td>0x80000</td>
<td><strong>Hex size</strong></td>
<td>—-</td>
<td>—-</td>
<td>Flash area size</td>
<td><code>"slot-size": "size"</code></td>
</tr>
<tr>
<td><strong>Secure Access</strong></td>
<td>Varies by app</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>Non-secure device</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td>—-</td>
<td>Secure device (+0x10000000)</td>
<td>—-</td>
</tr>
</tbody>
</table>
<p>**(SA) - Secure Access</p>
<h4 id="build-deployment-1">Build &amp; Deployment</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Project name</strong></td>
<td>proj_app$idx</td>
<td><strong>String</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"project": "name"</code><br><code>"debug_config_name": "name"</code></td>
</tr>
<tr>
<td><strong>Input hex file path</strong></td>
<td><code>proj_cm33s.hex</code> (for proj0)</td>
<td><strong>File path</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"file": "input_path"</code></td>
</tr>
<tr>
<td><strong>Output hex file path</strong></td>
<td><code>proj_cm33s_signed.hex</code> (for proj0)</td>
<td><strong>File path</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"file": "output_path"</code></td>
</tr>
</tbody>
</table>
<h4 id="security-configuration">Security Configuration</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Signing key ID</strong></td>
<td>1</td>
<td><strong>0-255</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"protected-tlv": key ID</code></td>
</tr>
<tr>
<td><strong>Signing private key path</strong></td>
<td><code>oem_private_key_0.pem</code></td>
<td><strong>File path</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"signing-key": "path"</code></td>
</tr>
<tr>
<td><strong>AES128 Data Encryption Key (DEK) path</strong></td>
<td><code>aes128_app$idx_key.bin</code></td>
<td><strong>File path</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"encryption-secret-key": "path"</code></td>
</tr>
</tbody>
</table>
<h4 id="versioning-dependencies">Versioning &amp; Dependencies</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Image_version</strong></td>
<td>0.0.0</td>
<td><strong>Semantic version</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"image-version": "version"</code></td>
</tr>
<tr>
<td><strong>Image boot record</strong></td>
<td>App_$idx</td>
<td><strong>String</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"boot-record": "identifier"</code></td>
</tr>
<tr>
<td><strong>Image dependencies</strong></td>
<td>Empty</td>
<td><strong>Dependency spec</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"dependencies": "spec"</code></td>
</tr>
</tbody>
</table>
<h4 id="hardware-security">Hardware Security</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HW security counter number</strong></td>
<td>0</td>
<td><strong>2-15</strong></td>
<td>—-</td>
<td><code>#define HW_ROLLBACK_NUMBER_IMG_N</code></td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td><strong>HW security counter value</strong></td>
<td>0</td>
<td><strong>1-63</strong> for <strong>2-7</strong> numbers <br/>
<strong>0-32767</strong> for <strong>8-15</strong> numbers (supported on
EPC4 devices only)</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td><code>"security-counter": "value"</code></td>
</tr>
</tbody>
</table>
<p>Counter numbers 0 and 1 are reserved for the boot code</p>
<h4 id="swap-mode-configuration">Swap Mode Configuration</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Scratch region</strong></td>
<td>not selected</td>
<td><strong>Memory region</strong></td>
<td>—-</td>
<td>—-</td>
<td>Scratch flash area</td>
<td>—-</td>
</tr>
<tr>
<td><strong>Swap status region</strong></td>
<td>not selected</td>
<td><strong>Memory region</strong></td>
<td>—-</td>
<td>—-</td>
<td>Swap status flash area</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h4 id="se-ram-app-staging">SE RAM App Staging</h4>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 15%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Parameter Name</th>
<th>Default</th>
<th>Values</th>
<th>[BUILD] feature_config.mk</th>
<th>[CONFIG] mcuboot_config.h</th>
<th>[MEMORY] memorymap.c/h</th>
<th>[SIGN] SignerCombiner JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Stage SE RAM app</strong></td>
<td>false</td>
<td><strong>false</strong></td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
<td>—-</td>
</tr>
<tr>
<td></td>
<td></td>
<td><strong>true</strong></td>
<td>—-</td>
<td><code>#define STAGE_RAM_APPS</code></td>
<td>SE RAM staging area</td>
<td>—-</td>
</tr>
<tr>
<td><strong>SE RAM app staging region</strong></td>
<td>not selected</td>
<td><strong>Memory region</strong></td>
<td>—-</td>
<td><code>#define RAM_APP_STAGING_ADDR</code><br><code>#define RAM_APP_STAGING_SIZE</code></td>
<td>SE RAM flash area</td>
<td>—-</td>
</tr>
</tbody>
</table>
<h3 id="license-copyright">📄 License &amp; Copyright</h3>
<p><strong>© Cypress Semiconductor Corporation (an Infineon company) or
an affiliate of Cypress Semiconductor Corporation,
2023-2025.</strong></p>
<p>This personality configuration documentation is provided under the
terms of the <a
href="https://www.infineon.com/cms/en/about-infineon/company/legal/terms-of-use/software-license-agreement/">Infineon
Software License Agreement</a>.</p>
<p><em>Last updated: October 2025 | Document version: 1.3</em></p>
</body>
</html>
